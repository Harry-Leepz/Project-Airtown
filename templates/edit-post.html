{% extends 'base.html' %}

{% block content %}
<!-- Edit Post Section Starts -->
    <div class="container-fluid editpost-container">
        <div class="row justify-content-center">
            <div class="col-12 justify-content-center">
                <div class="heroimage-text text-center">
                    <h2 class="heading-lobster">
                        Log into your Air Town account!
                    </h2>
                </div>
                <div class="form-container text-center">    
                    <form method="POST" action="{{ url_for('edit_post', post_id=post._id) }}">
                        <div class="form-group text-center">
                        <!-- Post Title-->
                            <label class="label" for="username"><i class="fas fa-heading"></i></label>
                            <input class="form-control" maxlength="50" minlength="5" id="post_title" name="post_title"
                            type="text" placeholder="Give your post a title!" value="{{ post.post_title }}" required>
                            <p class="input-text"> Between 5-15 characters</p>
                        </div>
                        <!-- Post Category Selection-->
                        <select id="category_name" name="category_name" class="form-control mb-3"
                            aria-placeholder="Choose a post type" required>
                            {% for category in categories %}
                                {% if category.category_name == post.category_name %}
                                    <option value="{{ category.category_name }}" selected>
                                        {{ category.category_name }}
                                    </option>
                                {% else %}
                                    <option>
                                        {{ category.category_name }}
                                    </option>
                                {% endif %}
                            {% endfor %}
                        </select>
                        <!-- Post Content-->
                        <div class="form-group">
                            <textarea rows="3" class="form-control" minlength="5" maxlength="500" id="post_content"
                                name="post_content" type="text" placeholder="Your thoughts!" required>
                            {{- post.post_content -}}
                            </textarea>
                        </div>
                        <a href="{{ url_for('the_wall')}}" class="btn btn-light"> Cancel changes!</a>
                        <button type="submit" class="btn btn-danger">Edit Post!</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
<!-- Edit Post Section Ends -->
{% endblock %}